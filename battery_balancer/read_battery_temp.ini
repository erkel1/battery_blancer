; This is the configuration file for the battery temperature monitoring script.
; All values are under the [settings] section.
; Comments explain each parameter's purpose, type, and default value (if using script fallbacks).
; Adjust values as needed for your setup, but ensure they match expected types (e.g., float for thresholds).[settings]; ip: The IP address of the EDS4100 device for network connection.

; Type: string (IPv4 address)
; Default: 192.168.15.240
ip = 192.168.15.240

; port: The TCP port on the device for Modbus communication (e.g., 10001 for RTU over TCP tunneling).
; Type: integer
; Default: 10001
port = 10001

; poll_interval: The interval in seconds between each poll/reading of the sensors.
; Type: float
; Default: 10.0 (every 10 seconds)
poll_interval = 10.0

; rise_threshold: The maximum allowable temperature rise (°C) per poll interval for a channel before alerting on abnormal rise.
; Type: float
; Default: 2.0
rise_threshold = 2.0

; deviation_threshold: The relative deviation threshold (as a fraction, e.g., 0.1 for 10%) from the current median before alerting.
; Used in combination with abs_deviation_threshold.
; Type: float
; Default: 0.1
deviation_threshold = 0.1

; disconnection_lag_threshold: The maximum deviation (°C) between a channel's rise and the group's median rise before alerting on lag/disconnection.
; Type: float
; Default: 0.5
disconnection_lag_threshold = 0.5

; high_threshold: The temperature (°C) above which a high temperature alert is triggered.
; Type: float
; Default: 60.0
high_threshold = 60.0

; low_threshold: The temperature (°C) below which a low temperature alert is triggered.
; Type: float
; Default: 0.0
low_threshold = 0.0

; scaling_factor: The factor to divide raw register values by to get temperature in °C (e.g., 100 if raw is in 0.01°C units).
; Type: float
; Default: 100.0
scaling_factor = 100.0

; valid_min: The minimum temperature value (°C) considered valid; readings ≤ this are treated as invalid (e.g., disconnected sensor).
; Type: float
; Default: 0.0
valid_min = 0.0

; max_retries: The maximum number of retry attempts for failed sensor reads (e.g., timeouts).
; Type: integer
; Default: 3
max_retries = 3

; retry_backoff_base: The base value for exponential backoff in retry delays (e.g., 1^0=1s, 1^1=1s, but change to 2 for 1s,2s,4s).
; Type: integer
; Default: 1
retry_backoff_base = 1

; query_delay: The delay in seconds after sending the Modbus query before receiving the response.
; Type: float
; Default: 0.25
query_delay = 0.25

; num_channels: The number of temperature channels/sensors to read (determines Modbus register count).
; Type: integer
; Default: 24
num_channels = 24

; abs_deviation_threshold: The absolute deviation threshold (°C) from the current median before alerting.
; Used in combination with deviation_threshold for more consistent checks across temperature ranges.
; Type: float
; Default: 2.0
abs_deviation_threshold = 2.0

